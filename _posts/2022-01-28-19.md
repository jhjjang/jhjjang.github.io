---
layout: post
title: About Nginx
---

[Wiki](https://ko.wikipedia.org/wiki/Nginx)

Nginx(ì—”ì§„ xë¼ ì½ëŠ”ë‹¤)ëŠ” ì›¹ ì„œë²„ ì†Œí”„íŠ¸ì›¨ì–´ë¡œ, ê°€ë²¼ì›€ê³¼ ë†’ì€ ì„±ëŠ¥ì„ ëª©í‘œë¡œ í•œë‹¤. ì›¹ ì„œë²„, ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë° ë©”ì¼ í”„ë¡ì‹œ ê¸°ëŠ¥ì„ ê°€ì§„ë‹¤.
2017ë…„ 10ì›” ê¸°ì¤€ìœ¼ë¡œ ì‹¤ì§ˆì ìœ¼ë¡œ ìž‘ë™í•˜ëŠ” ì›¹ ì‚¬ì´íŠ¸(active site)ë“¤ì—ì„œ ì“°ì´ëŠ” ì›¹ ì„œë²„ ì†Œí”„íŠ¸ì›¨ì–´ ìˆœìœ„ëŠ” ì•„íŒŒì¹˜(44.89%), ì—”ì§„ì—‘ìŠ¤(20.65%), êµ¬ê¸€ ì›¹ ì„œë²„(7.86%), ë§ˆì´í¬ë¡œì†Œí”„íŠ¸ IIS(7.32%)ìˆœì´ë‹¤.[1] ì´ ì¡°ì‚¬ì—ì„œ ìƒì„±ì€ ë˜ì–´ìžˆìœ¼ë‚˜ ì •ìƒì ìœ¼ë¡œ ìž‘ë™í•˜ì§€ ì•ŠëŠ” ì›¹ ì‚¬ì´íŠ¸ë“¤ì€ ë°°ì œë˜ì—ˆìœ¼ë©°[2] íŠ¹ížˆ MSì˜ ì¸í„°ë„· ì •ë³´ ì„œë¹„ìŠ¤(IIS)ë¥¼ ì„¤ì¹˜í•œ ì›¹ ì‚¬ì´íŠ¸ë“¤ì˜ ìƒë‹¹ìˆ˜ê°€ ë¹„í™œì„± ì‚¬ì´íŠ¸ì˜€ë‹¤. ê·¸ëŸ° ì‚¬ì´íŠ¸ë“¤ë„ í¬í•¨í•˜ë©´ MS IISê°€ 1ìœ„ì´ë‹¤. 2017ë…„ 6ì›” í˜„ìž¬ NginxëŠ” í•œêµ­ ì „ì²´ ë“±ë¡ ë„ë©”ì¸ ì¤‘ 24.73%ê°€ ì‚¬ìš©í•˜ê³  ìžˆë‹¤.[3]
NginxëŠ” ìš”ì²­ì— ì‘ë‹µí•˜ê¸° ìœ„í•´ ë¹„ë™ê¸° ì´ë²¤íŠ¸ ê¸°ë°˜ êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤. ì´ê²ƒì€ ì•„íŒŒì¹˜ HTTP ì„œë²„ì˜ ìŠ¤ë ˆë“œ/í”„ë¡œì„¸ìŠ¤ ê¸°ë°˜ êµ¬ì¡°ë¥¼ ê°€ì§€ëŠ” ê²ƒê³¼ëŠ” ëŒ€ì¡°ì ì´ë‹¤. ì´ëŸ¬í•œ êµ¬ì¡°ëŠ” ì„œë²„ì— ë§Žì€ ë¶€í•˜ê°€ ìƒê¸¸ ê²½ìš°ì˜ ì„±ëŠ¥ì„ ì˜ˆì¸¡í•˜ê¸° ì‰½ê²Œ í•´ì¤€ë‹¤.


ë˜í•œ nginxëŠ” í•˜ë‚˜ì˜ ë§ˆìŠ¤í„° í”„ë¡œì„¸ìŠ¤ì™€ ì—¬ëŸ¬ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ê°€ ìžˆê³ , ë§ˆìŠ¤í„° í”„ë¡œì„¸ìŠ¤ëŠ” ì£¼ë¡œ ì„¤ì • íŒŒì¼ì„ ì½ê³  ì ìš©í•˜ë©° ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë“¤ì„ ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ í•˜ê²Œ ëœë‹¤. ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ëŠ” ì‹¤ì œ ìš”ì²­ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ í•˜ê²Œ ëœë‹¤. nginxëŠ” event driven ëª¨ë¸ì„ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ê°„ ìš”ì²­ì„ íš¨ìœ¨ì ìœ¼ë¡œ ë¶„ì‚°í•œë‹¤.


ì‹¤ìŠµì€ Mac os ê¸°ì¤€ìœ¼ë¡œ ì‹¤ìŠµì„ ì§„í–‰í•´ ë³¼ê²ƒì´ë‹¤. ìš°ì„  nginxë¥¼ ì„¤ì¹˜í•´ë³´ìž.



## Nginx install
```
> brew install nginx
```

brewë¡œ ì„¤ì¹˜ë¥¼ ì•„ëž˜ì™€ ê°™ì€ ë””ë ‰í„°ë¦¬ë“¤ì´ ìƒì„±ëœë‹¤. ìš°ì„  ì•„ëž˜ ë””ë ‰í† ë¦¬ë¥¼ ì‹¤ìŠµì„ ì§„í–‰í•˜ë©´ì„œ ì „ë¶€ ì•Œì•„ë³¼ ê²ƒì´ë‹¤.


```
Docroot is: /usr/local/var/www

The default port has been set in /usr/local/etc/nginx/nginx.conf to 8080 so that
nginx can run without sudo.

nginx will load all files in /usr/local/etc/nginx/servers/.

To have launchd start nginx now and restart at login:
  brew services start nginx
Or, if you don't want/need a background service you can just run:
  nginx
==> Summary
ðŸº  /usr/local/Cellar/nginx/1.19.2: 25 files, 2.1MB
==> Caveats
==> nginx
Docroot is: /usr/local/var/www

The default port has been set in /usr/local/etc/nginx/nginx.conf to 8080 so that
nginx can run without sudo.

nginx will load all files in /usr/local/etc/nginx/servers/.

To have launchd start nginx now and restart at login:
  brew services start nginx
Or, if you don't want/need a background service you can just run:
  nginx
```

## Nginx êµ¬ë™ ëª…ë ¹ì–´(nginx -s "signal")
- nginx : ì„œë²„ì‹œìž‘
- nginx -s stop : ì„œë²„ì¢…ë£Œ(ì›Œì»¤ë“¤ì´ ìš”ì²­ì„ ì²˜ë¦¬ì¤‘ì´ë”ë¼ë„ ê·¸ëƒ¥ ì¢…ë£Œí•œë‹¤.)
- nginx -s quit : ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ê°€ í˜„ìž¬ ìš”ì²­ ì²˜ë¦¬ë¥¼ ì™„ë£Œí•  ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ê³  ëª¨ë‘ ì²˜ë¦¬ì™„ë£Œëœ í›„ì— ì„œë²„ ì¢…ë£Œ.
- nginx -s reload : nginx configë¥¼ ìƒˆë¡œ ë¡œë“œí•œë‹¤. ë§ˆìŠ¤í„° í”„ë¡œì„¸ìŠ¤ê°€ ì„¤ì •ì„ ë‹¤ì‹œ ë¡œë“œí•˜ë¼ëŠ” ìš”ì²­ì„ ë°›ìœ¼ë©´ ì„¤ì • ìœ íš¨ì„± ê²€ì‚¬í›„ ìƒˆë¡œìš´ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œìž‘í•˜ê³ , ì´ì „ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì¢…ë£Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê²Œ ë˜ê³  ì´ì „ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ëŠ” ìš”ì²­ì„ ì™„ë£Œí•˜ê²Œ ë˜ë©´ ì¢…ë£Œëœë‹¤.

ìœ„ ëª…ë ¹ì–´ë¡œ nginxë¥¼ ì‹œìž‘ í•´ë³´ìž !

ë””í´íŠ¸ í¬íŠ¸ì¸ 8080ìœ¼ë¡œ nginx í”„ë¡œì„¸ìŠ¤ê°€ ìž˜ ë– ìžˆë‹¤. ì´ì œ ì›¹ë¸Œë¼ìš°ì €ì—ì„œ localhost:8080ìœ¼ë¡œ ì ‘ì†í•´ë³´ìž.

```shell script
> nginx
> lsof -i:8080
COMMAND   PID         USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME
nginx   88891 yun-yeoseong    6u  IPv4 0x7370b7ed168f296f      0t0  TCP *:http-alt (LISTEN)
nginx   88892 yun-yeoseong    6u  IPv4 0x7370b7ed168f296f      0t0  TCP *:http-alt (LISTEN)

ì‹¤í–‰ì¤‘ì¸ ëª¨ë“  nginx í”„ë¡œì„¸ìŠ¤ ëª©ë¡ì„ ê°€ì ¸ì˜¨ë‹¤.

> ps -ax | grep nginx
88891 ??         0:00.00 nginx: master process nginx
88892 ??         0:00.01 nginx: worker process
89201 ttys000    0:00.03 vi nginx.conf
89695 ttys001    0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn nginx
```

